{"version":3,"sources":["../login.js"],"names":["doc","formLogin","getElementById","tbUn","querySelector","tbPwd","btnLogin","status","addEventListener","formKeyPress","loginUser","URL","indexOf","innerHTML","classList","remove","e","keyCode","un","value","trim","pwd","focus","preventDefault","document"],"mappings":"cAAC;AACD;;;;AAIE,WAAUA,GAAV,EAAgB;AACjB;;AAEA,KAAIC,YAAYD,IAAIE,cAAJ,CAAoB,YAApB,CAAhB;AACCC,QAAOF,UAAUG,aAAV,CAAyB,mBAAzB,CADR;AAECC,SAAQJ,UAAUG,aAAV,CAAyB,mBAAzB,CAFT;AAGCE,YAAWN,IAAIE,cAAJ,CAAoB,WAApB,CAHZ;AAICK,UAASP,IAAIE,cAAJ,CAAoB,QAApB,CAJV;;AAMAC,MAAKK,gBAAL,CAAuB,UAAvB,EAAmCC,YAAnC,EAAiD,KAAjD;AACAJ,OAAMG,gBAAN,CAAwB,UAAxB,EAAoCC,YAApC,EAAkD,KAAlD;AACAH,UAASE,gBAAT,CAA2B,OAA3B,EAAoCE,SAApC,EAA+C,KAA/C;AACAT,WAAUO,gBAAV,CAA4B,QAA5B,EAAsCE,SAAtC,EAAiD,KAAjD;;AAEA,KAAKV,IAAIW,GAAJ,CAAQC,OAAR,CAAiB,UAAjB,MAAkC,CAAC,CAAxC,EAA4C;AAC3CL,SAAOM,SAAP,GAAmB,sDAAnB;AACAN,SAAOO,SAAP,CAAiBC,MAAjB,CAAyB,QAAzB;AACA;;AAED,UAASN,YAAT,CAAuBO,CAAvB,EAA2B;AAC1B,MAAKA,EAAEC,OAAF,KAAc,EAAnB,EAAwB;AACvBP,aAAWM,CAAX;AACA;AACD;;AAED,UAASN,SAAT,CAAoBM,CAApB,EAAwB;AACvB,MAAIE,KAAKf,KAAKgB,KAAL,CAAWC,IAAX,EAAT;AACCC,QAAMhB,MAAMc,KAAN,CAAYC,IAAZ,EADP;;AAGA,MAAKF,OAAO,EAAP,IAAaG,QAAQ,EAA1B,EAA+B;AAC9Bd,UAAOM,SAAP,GAAmB,iDAAnB;AACAN,UAAOO,SAAP,CAAiBC,MAAjB,CAAyB,QAAzB;;AAEA,OAAKG,OAAO,EAAZ,EAAiB;AAChBf,SAAKmB,KAAL;AACA,IAFD;AAGK;AACJjB,UAAMiB,KAAN;AACA;;AAEDN,KAAEO,cAAF;AACA;AACA;AACD;;AAED,CA7CC,EA6CCC,QA7CD,CAAF","file":"login.js","sourcesContent":["ï»¿///<reference path=\"main.js\">\r\n/**\r\n * Copyright 2015 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tvar formLogin = doc.getElementById( 'form-login' ),\r\n\t\ttbUn = formLogin.querySelector( '[name=\"username\"]' ),\r\n\t\ttbPwd = formLogin.querySelector( '[name=\"password\"]' ),\r\n\t\tbtnLogin = doc.getElementById( 'btn-login' ),\r\n\t\tstatus = doc.getElementById( 'status' );\r\n\r\n\ttbUn.addEventListener( 'keypress', formKeyPress, false );\r\n\ttbPwd.addEventListener( 'keypress', formKeyPress, false );\r\n\tbtnLogin.addEventListener( 'click', loginUser, false );\r\n\tformLogin.addEventListener( 'submit', loginUser, false );\r\n\r\n\tif ( doc.URL.indexOf( '?lgnfail' ) !== -1 ) {\r\n\t\tstatus.innerHTML = '<p class=\"error\">Login failed, please try again.</p>';\r\n\t\tstatus.classList.remove( 'hidden' );\r\n\t}\r\n\r\n\tfunction formKeyPress( e ) {\r\n\t\tif ( e.keyCode === 13 ) {\r\n\t\t\tloginUser( e );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loginUser( e ) {\r\n\t\tvar un = tbUn.value.trim(),\r\n\t\t\tpwd = tbPwd.value.trim();\r\n\t\t\r\n\t\tif ( un === '' || pwd === '' ) {\r\n\t\t\tstatus.innerHTML = '<p>Both username and password are required.</p>';\r\n\t\t\tstatus.classList.remove( 'hidden' );\r\n\r\n\t\t\tif ( un === '' ) {\r\n\t\t\t\ttbUn.focus();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttbPwd.focus();\r\n\t\t\t}\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n}( document ) );"]}