{"version":3,"sources":["../main.js"],"names":["doc","activeAlert","cssClasses","ALERT_ACTIVE","ALERT_EL","ALERT_HDR","ALERT_INFO","BTN","BTN_CONFIRM","BTN_CONTAINER","BTN_DISMISS","CONTAINER","keys","ESCAPE","Alert","console","log","alertContainer","createAlertElements","onConfirm","onDismiss","promptAlert","bind","updateButtons","showAlert","handleKeyDown","dismissAlert","addEventListeners","el","createElement","classList","add","body","appendChild","alertEl","alertHeader","alertInfo","btnContainer","btnDismiss","textContent","btnConfirm","addEventListener","hdr","content","btnConfirmText","btnDismissText","fnConfirm","fnDismiss","innerHTML","MaterialButton","removeEventListener","e","keyCode","remove","handleKeyPress","app","document","config","apiKey","Gmap","loadCallback","initialized","container","map","markers","options","defaultCenter","lat","lng","defaultZoom","icon","scrollwheel","styles","zoomControl","initMap","setDefaultCenter","setDefaultZoom","addScript","google","maps","Map","center","mapTypeControl","streetViewControl","zoom","setOptions","hasAttribute","addMarker","$","coords","getAttribute","position","split","length","parseFloat","parseInt","data","me","marker","Marker","push","GmapInitializer","forEach","init","LazyContent","src","loadContent","fetch","controlName","url","then","rsp","success","insertAdjacentHTML","obj","html","parentNode","removeChild","LazyContentHandler","LazyImg","img","setTimeout","LazyImgHandler","Nav","triggers","$$","addEventListeners_","trigger","toggle","Router","mainContainer","path","window","location","pathname","addEventListners_","handleClick_","popstateHandler_","metaKey","ctrlKey","button","node","target","nodeName","toLowerCase","href","indexOf","hostname","preventDefault","close","go_","updateState","updateState_","Promise","all","fadePageOut_","loadPageContent_","requestAnimationFrame","eqHeight","load","loadImages","fadePageIn_","resolve","reject","onTransitionEnd","scrollTo","history","pushState","ga","state","ANIMATABLE","NAV_IN","SideNav","btnShow","sideNav","sideNavContainer","sideNavClose","showSideNav","hideSideNav","onTouchStart","onTouchMove","onTouchEnd","update","startX","currentX","touchingSideNav","blockClicks","stopPropagation","contains","touches","pageX","translateX","Math","min","style","transform","activeToast","ACTIVE","TOAST","Toast","createToastElement","duration","defaultDuration","hideTimeout","show","hide","msg","clearTimeout","now","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","element","element_","prototype","cssClasses_","RIPPLE_BUTTON","RIPPLE_CONTAINER","RIPPLE","RIPPLE_CENTER","RIPPLE_IS_ANIMATING","RIPPLE_IS_VISIBLE","RippleConstant","INITIAL_SCALE","INITIAL_SIZE","INITIAL_OPACITY","FINAL_OPACITY","FINAL_SCALE","initRipple","recentering","addRippleElements","frameCount_","rippleSize_","x_","y_","ignoringMouseDown_","boundDownHandler","downHandler_","boundUpHandler","upHandler_","getFrameCount","setFrameCount","fC","getRippleElement","rippleElement_","setRippleXY","newX","newY","setRippleStyles","start","transformString","scale","size","offset","boundWidth","boundHeight","webkitTransform","msTransform","animFrameHandler","boundRippleBlurHandler","blurHandler_","blur","disable","disabled","bound","x","y","clientX","clientY","width","height","rect","getBoundingClientRect","sqrt","type","frameCount","currentTarget","round","left","top","detail","enable","btn","ckEditorSettings","allowedContent","toolbar","formCssClasses","chosenSelect","ckeditor","errorLabel","hidden","inputField","invalid","mediumEditor","required","Form","fields","querySelectorAll","reqFields","inputFields","initFormElements","initEditors","checkActiveInputs","validateFields","collectData","setFieldValues","clearForm","select","querySelector","input","Select","tag","tagName","TextBox","field","MediumEditor","warn","placeholder","text","CKEDITOR","replace","id","CKFinder","setupCKEditor","instances","lbl","checkForValue","isValid","val","getData","trim","getValue","selectedIndex","value","params","key","checked","setData","setValue","moment","format","multiple","opt","selected","jQuery","row","ERROR_LABEL","INVALID_REQ_FIELD","MD_MENU","MENU","MENU_OPEN","LIST_ITEM","LIST_ITEM_HOVER","REQUIRED_FIELD","documentElement","mq","label","menu","open","currentIndex","listItems","createMenu","setMenuPosition","showMenu","hideMenu","changeHandler","focusHanlder","blurHandler","keyDownHandler","bodyClickHandler","checkIfRequired","fn","onChange","opts","children","len","i","listItem","li","ListItem","bottom","util","getWindowScrollPosition","offsetWidth","scrollTop","disableWindowScroll","item","enableWindowScroll","index","menuScrollTop","menuHeight","offsetHeight","offsetTop","selectItem","errorLbl","setAttribute","removeAttribute","ACTIVE_FIELD_CLASS","DATE_SELECTOR","regExpressions","EMAIL","TEL","DATE","initDatePicker","focusHandler","validateField","picker","Pikaday","onSelect","getMoment","valid","minChars","prevError","test","wh","innerHeight","scrollY","navigator","URL","serviceWorker","register","registration","scope","catch","err"],"mappings":"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","file":"main.js","sourcesContent":["///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n * @version: 1.0.0\r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tlet activeAlert = null;\r\n\r\n\tconst cssClasses = {\r\n\t\tALERT_ACTIVE: 'alert-active',\r\n\t\tALERT_EL: 'alert-el',\r\n\t\tALERT_HDR: 'alert-header',\r\n\t\tALERT_INFO: 'alert-info',\r\n\t\tBTN: 'alert-btn',\r\n\t\tBTN_CONFIRM: 'alert-btn-confirm',\r\n\t\tBTN_CONTAINER: 'alert-btn-container',\r\n\t\tBTN_DISMISS: 'alert-btn-dismiss',\r\n\t\tCONTAINER: 'alert-container'\r\n\t};\r\n\r\n\tconst keys = {\r\n\t\tESCAPE: 27\r\n\t};\r\n\r\n\tclass Alert {\r\n\t\tconstructor() {\r\n\t\t\tif ( activeAlert ) {\r\n\t\t\t\tconsole.log( 'An alert already exists.' );\r\n\t\t\t\treturn activeAlert;\r\n\t\t\t}\r\n\r\n\t\t\tthis.alertContainer = this.createAlertElements();\r\n\r\n\t\t\tthis.onConfirm = function() { };\r\n\t\t\tthis.onDismiss = function() { };\r\n\r\n\t\t\tthis.promptAlert = this.promptAlert.bind( this );\r\n\t\t\tthis.updateButtons = this.updateButtons.bind( this );\r\n\t\t\tthis.showAlert = this.showAlert.bind( this );\r\n\t\t\tthis.handleKeyDown = this.handleKeyDown.bind( this );\r\n\t\t\tthis.dismissAlert = this.dismissAlert.bind( this );\r\n\r\n\t\t\tthis.addEventListeners();\r\n\r\n\t\t\tactiveAlert = this;\r\n\t\t}\r\n\r\n\t\tcreateAlertElements() {\r\n\t\t\tlet el = doc.createElement( 'div' );\r\n\t\t\tel.classList.add( cssClasses.CONTAINER );\r\n\t\t\tdoc.body.appendChild( el );\r\n\r\n\t\t\tthis.alertEl = doc.createElement( 'div' );\r\n\t\t\tthis.alertEl.classList.add( cssClasses.ALERT_EL );\r\n\r\n\t\t\tthis.alertHeader = doc.createElement( 'h3' );\r\n\t\t\tthis.alertHeader.classList.add( cssClasses.ALERT_HDR );\r\n\r\n\t\t\tthis.alertInfo = doc.createElement( 'div' );\r\n\t\t\tthis.alertInfo.classList.add( cssClasses.ALERT_INFO );\r\n\r\n\t\t\tlet btnContainer = doc.createElement( 'div' );\r\n\t\t\tbtnContainer.classList.add( cssClasses.BTN_CONTAINER );\r\n\r\n\t\t\tthis.btnDismiss = doc.createElement( 'button' );\r\n\t\t\tthis.btnDismiss.classList.add( cssClasses.BTN );\r\n\t\t\tthis.btnDismiss.classList.add( cssClasses.BTN_CONFIRM );\r\n\t\t\tthis.btnDismiss.classList.add( 'btn-ripple' );\r\n\t\t\tthis.btnDismiss.textContent = 'Dismiss';\r\n\r\n\t\t\tthis.btnConfirm = doc.createElement( 'button' );\r\n\t\t\tthis.btnConfirm.classList.add( cssClasses.BTN );\r\n\t\t\tthis.btnConfirm.classList.add( cssClasses.BTN_CONFIRM );\r\n\t\t\tthis.btnConfirm.classList.add( 'btn-ripple' );\r\n\t\t\tthis.btnConfirm.textContent = 'Confirm';\r\n\r\n\t\t\tbtnContainer.appendChild( this.btnDismiss );\r\n\t\t\tbtnContainer.appendChild( this.btnConfirm );\r\n\r\n\t\t\tel.appendChild( this.alertEl );\r\n\t\t\tthis.alertEl.appendChild( this.alertHeader );\r\n\t\t\tthis.alertEl.appendChild( this.alertInfo );\r\n\t\t\tthis.alertEl.appendChild( btnContainer );\r\n\r\n\t\t\treturn el;\r\n\t\t}\r\n\r\n\t\taddEventListeners() {\r\n\t\t\tthis.btnConfirm.addEventListener( 'click', this.onConfirm, false );\r\n\t\t\tthis.btnDismiss.addEventListener( 'click', this.onDismiss, false );\r\n\t\t}\r\n\r\n\t\tpromptAlert( hdr, content, btnConfirmText, btnDismissText, fnConfirm, fnDismiss ) {\r\n\t\t\tthis.alertHeader.textContent = hdr;\r\n\t\t\tthis.alertInfo.innerHTML = content;\r\n\t\t\tthis.updateButtons( btnConfirmText, btnDismissText, fnConfirm, fnDismiss );\r\n\t\t\tthis.showAlert();\r\n\r\n\t\t\tdoc.body.addEventListener( 'keydown', this.handleKeyDown, false );\r\n\t\t}\r\n\r\n\t\tupdateButtons( btnConfirmText, btnDismissText, fnConfirm, fnDismiss ) {\r\n\t\t\tthis.btnConfirm.textContent = btnConfirmText;\r\n\t\t\tthis.btnDismiss.textContent = btnDismissText;\r\n\r\n\t\t\tthis.btnDismiss.MaterialButton = new MaterialButton( this.btnDismiss );\r\n\t\t\tthis.btnConfirm.MaterialButton = new MaterialButton( this.btnConfirm );\r\n\r\n\t\t\tthis.btnConfirm.removeEventListener( 'click', this.onConfirm, false );\r\n\t\t\tthis.btnDismiss.removeEventListener( 'click', this.onDismiss, false );\r\n\r\n\t\t\tthis.onConfirm = fnConfirm;\r\n\t\t\tthis.onDismiss = fnDismiss;\r\n\r\n\t\t\tthis.btnConfirm.addEventListener( 'click', this.onConfirm, false );\r\n\t\t\tthis.btnDismiss.addEventListener( 'click', this.onDismiss, false );\r\n\t\t}\r\n\r\n\t\tshowAlert() {\r\n\t\t\tdoc.body.classList.add( cssClasses.ALERT_ACTIVE );\r\n\t\t}\r\n\r\n\t\thandleKeyDown( e ) {\r\n\t\t\tif ( e.keyCode === keys.ESCAPE ) {\r\n\t\t\t\tthis.onDismiss();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdismissAlert() {\r\n\t\t\tdoc.body.classList.remove( cssClasses.ALERT_ACTIVE );\r\n\t\t\tdoc.body.removeEventListener( 'keydown', this.handleKeyPress, false );\r\n\t\t}\r\n\t}\r\n\r\n\tapp.Alert = Alert;\r\n\r\n}( document ) );\r\n/**\r\n* Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n* @author: The Select Interactive dev team (www.select-interactive.com)\r\n*/\r\n(function( doc ) {\r\n    'use strict';\r\n\r\n    const config = {\r\n\t\tapiKey: 'AIzaSyCgPr6C2_Y4D-p8grQ_TfT7-hTrRii3VfQ'\r\n\t};\r\n\r\n    class Gmap {\r\n        constructor( el, loadCallback ) {\r\n            // don't create a map twice\r\n            if ( this.initialized ) {\r\n                return;\r\n            }\r\n\r\n            this.container = el;\r\n            this.map = null;\r\n            this.markers = [];\r\n\r\n            this.loadCallback = loadCallback;\r\n\r\n            this.options = {\r\n                defaultCenter: {\r\n                    lat: 32.731486,\r\n                    lng: -97.366189\r\n                },\r\n                defaultZoom: 10,\r\n                icon: '/img/map-marker.v1.png',\r\n                scrollwheel: false,\r\n                styles: [{ 'featureType': 'administrative', 'elementType': 'labels.text.fill', 'stylers': [{ 'color': '#444444' }] }, { 'featureType': 'landscape', 'elementType': 'all', 'stylers': [{ 'color': '#f2f2f2' }] }, { 'featureType': 'poi', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'road', 'elementType': 'all', 'stylers': [{ 'saturation': -100 }, { 'lightness': 45 }] }, { 'featureType': 'road.highway', 'elementType': 'all', 'stylers': [{ 'visibility': 'simplified' }] }, { 'featureType': 'road.arterial', 'elementType': 'labels.icon', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'water', 'elementType': 'all', 'stylers': [{ 'color': '#4f595d' }, { 'visibility': 'on' }] }],\r\n                zoomControl: true\r\n            };\r\n\r\n            this.initMap = this.initMap.bind( this );\r\n            this.setDefaultCenter = this.setDefaultCenter.bind( this );\r\n            this.setDefaultZoom = this.setDefaultZoom.bind( this );\r\n            \r\n            this.addScript();\r\n        }\r\n\r\n        initMap() {\r\n            this.setDefaultCenter();\r\n            this.setDefaultZoom();\r\n\r\n            this.map = new google.maps.Map( this.container, {\r\n\t\t\t\tcenter: this.options.defaultCenter,\r\n\t\t\t\tmapTypeControl: false,\r\n\t\t\t\tscrollwheel: this.options.scrollwheel,\r\n\t\t\t\tstreetViewControl: false,\r\n\t\t\t\tzoom: this.options.defaultZoom,\r\n\t\t\t\tzoomControl: this.options.zoomControl\r\n            } );\r\n\r\n            this.map.setOptions( { styles: this.options.styles } );\r\n\r\n            if ( this.container.hasAttribute( 'data-map-marker' ) ) {\r\n\t\t\t\tthis.addMarker( this.options.defaultCenter );\r\n\t\t\t}\r\n\r\n            if ( this.loadCallback && typeof this.loadCallback === 'function' ) {\r\n\t\t\t\tthis.loadCallback( this.map );\r\n\t\t\t}\r\n        }\r\n\r\n        addScript() {\r\n\t\t\tapp.$.addScript( 'https://maps.googleapis.com/maps/api/js?key=' + config.apiKey, doc.body, true, this.initMap );\r\n\t\t}\r\n\r\n        setDefaultCenter() {\r\n            if ( this.container.hasAttribute( 'data-map-center' ) ) {\r\n                const coords = this.container.getAttribute( 'data-map-center' );\r\n                const position = coords.split( ',' );\r\n                \r\n                if ( position.length ) {\r\n                    this.options.defaultCenter = {\r\n                        lat: parseFloat( position[0] ),\r\n                        lng: parseFloat( position[1] )\r\n                    };\r\n                }\r\n            }\r\n        }\r\n\r\n        setDefaultZoom() {\r\n            if ( this.container.hasAttribute( 'data-map-zoom' ) ) {\r\n                this.defaultZoom = parseInt( this.container.getAttribute( 'data-map-zoom' ), 10 );\r\n            }\r\n        }\r\n\r\n        addMarker( data ) {\r\n\t\t\tconst me = this;\r\n\r\n\t\t\tlet icon = data.marker || this.options.icon;\r\n\r\n\t\t\tlet marker = new google.maps.Marker( {\r\n\t\t\t\tdata: data,\r\n\t\t\t\ticon: icon,\r\n\t\t\t\tmap: this.map,\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tlat: data.lat,\r\n\t\t\t\t\tlng: data.lng\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tthis.markers.push( marker );\r\n\t\t}\r\n    }\r\n\r\n    class GmapInitializer {\r\n        static init() {\r\n            app.$.forEach( '.gmap-auto-init', el => {\r\n                new Gmap( el );\r\n            } );\r\n        }\r\n    }\r\n    \r\n    app.GmapInitializer = GmapInitializer;\r\n    GmapInitializer.init();\r\n\r\n}( document ) );\r\n/**\r\n* Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n* @author: The Select Interactive dev team (www.select-interactive.com)\r\n*/\r\n(function( doc ) {\r\n    'use strict';\r\n\r\n    class LazyContent {\r\n        constructor( el ) {\r\n            this.container = el;\r\n            this.src = el.getAttribute( 'data-src' );\r\n            this.loadContent();\r\n        }\r\n\r\n        loadContent() {\r\n            app.$.fetch( '/api/loadControlContent', {\r\n                body: {\r\n                    controlName: this.src,\r\n                    url: this.src\r\n                }\r\n            } ).then( rsp => {\r\n                if ( rsp.success ) {\r\n                    this.container.insertAdjacentHTML( 'afterend', rsp.obj.html );\r\n                    this.container.parentNode.removeChild( this.container );\r\n                }\r\n            } );\r\n        }\r\n    }\r\n\r\n    class LazyContentHandler {\r\n        static load() {\r\n            app.$.forEach( '[data-content-lazy]:not(.lazy-loaded)', el => {\r\n                new LazyContent( el );\r\n            } );\r\n        }\r\n    }\r\n\r\n    app.LazyContentHandler = LazyContentHandler;\r\n\r\n}( document ) );\r\n/**\r\n* Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n* @author: The Select Interactive dev team (www.select-interactive.com)\r\n*/\r\n(function( doc ) {\r\n    'use strict';\r\n\r\n    class LazyImg {\r\n        constructor( el ) {\r\n            this.img = el;\r\n            this.src = el.getAttribute( 'data-src' );\r\n            this.init();\r\n        }\r\n\r\n        init() {\r\n            // use a timeout so the request aren't all\r\n            // at the exact same time\r\n            setTimeout( _ => {\r\n                this.img.src = this.src;\r\n                this.img.classList.add( 'lazy-loaded' );\r\n            }, 10 );\r\n        }\r\n    }\r\n\r\n    class LazyImgHandler {\r\n        static loadImages() {\r\n            app.$.forEach( '[data-lazy]:not(.lazy-loaded)', el => {\r\n                new LazyImg( el );\r\n            } );\r\n        }\r\n    }\r\n\r\n    app.LazyImgHandler = LazyImgHandler;\r\n\r\n}( document ) );\r\n/**\r\n* Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n* @author: The Select Interactive dev team (www.select-interactive.com)\r\n*/\r\n(function( doc ) {\r\n    'use strict';\r\n\r\n    class Nav {\r\n        static init() {\r\n            this.triggers = app.$$( '.nav-trigger' );\r\n\r\n            this.addEventListeners_();\r\n        }\r\n\r\n        static addEventListeners_() {\r\n            app.$.forEach( this.triggers, trigger => {\r\n                trigger.addEventListener( 'click', e=> {\r\n                    doc.body.classList.toggle( 'nav-in' );\r\n                } );\r\n            } );\r\n        }\r\n\r\n        static close() {\r\n            doc.body.classList.remove( 'nav-in' );\r\n        }\r\n    }\r\n\r\n    app.Nav = Nav;\r\n\r\n}( document ) );\r\n/**\r\n* Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n* @author: The Select Interactive dev team (www.select-interactive.com)\r\n*/\r\n( function( doc ) {\r\n    'use strict';\r\n\r\n    class Router {\r\n        static init() {\r\n            this.mainContainer = app.$( '#page-container' );\r\n            this.path = window.location.pathname;\r\n            this.addEventListners_();\r\n        }\r\n\r\n        static addEventListners_() {\r\n            doc.body.addEventListener( 'click', e => this.handleClick_( e ) );\r\n            window.addEventListener( 'popstate', e => this.popstateHandler_( e ) );\r\n        }\r\n\r\n        static handleClick_( e ) {\r\n            if ( e.metaKey || e.ctrlKey || e.button !== 0 ) {\r\n                return;\r\n            }\r\n\r\n            var node = e.target;\r\n            do {\r\n                if ( node === null || node.nodeName.toLowerCase() === 'a' ) {\r\n                    break;\r\n                }\r\n\r\n                node = node.parentNode;\r\n            } while ( node );\r\n\r\n            if ( node ) {\r\n                const href = node.href;\r\n                const path = node.getAttribute( 'href' );\r\n                \r\n                if ( href.indexOf( window.location.hostname ) !== -1 || path === '/' ) {\r\n                    e.preventDefault();\r\n\r\n                    if ( path !== this.path ) {\r\n                        this.path = path;\r\n                        app.Nav.close();\r\n                        this.go_( path, true );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        static go_( path, updateState ) {\r\n            // update push state and \r\n            // log pageview in GA\r\n            if ( updateState ) {\r\n                this.updateState_();\r\n            }\r\n\r\n            // fade current page out\r\n            // load new page\r\n            // then fade in the new page\r\n            Promise.all( [\r\n                this.fadePageOut_(),\r\n                this.loadPageContent_( path )\r\n            ] ).then( data => {\r\n                const html = data[1];\r\n                this.mainContainer.innerHTML = html;\r\n\r\n                // use request animation to wait for the html to be painted\r\n                requestAnimationFrame( () => {\r\n                    requestAnimationFrame( () => {\r\n                        app.$.eqHeight( this.mainContainer );\r\n                        app.LazyContentHandler.load();\r\n                        app.LazyImgHandler.loadImages();\r\n                        app.GmapInitializer.init();\r\n\r\n                        this.fadePageIn_().then( _ => {\r\n                            if ( path !== '/' ) {\r\n                                doc.body.classList.remove( 'home' );\r\n                                doc.body.classList.remove( 'home-top' );\r\n                            }\r\n                            else {\r\n                                doc.body.classList.add( 'home' );\r\n                                doc.body.classList.add( 'home-top' );\r\n                            }\r\n                        } );\r\n                    } );\r\n                } );\r\n            } );\r\n        }\r\n\r\n        static fadePageOut_() {\r\n            return new Promise( ( resolve, reject ) => {\r\n                const onTransitionEnd = () => {\r\n                    this.mainContainer.removeEventListener( 'transitionend', onTransitionEnd );\r\n                    resolve();\r\n                };\r\n                \r\n                this.mainContainer.addEventListener( 'transitionend', onTransitionEnd );\r\n                doc.body.classList.add( 'page-out' );\r\n            } );\r\n        }\r\n\r\n        static loadPageContent_( path ) {\r\n            return app.$.fetch( '/api/loadControlContent', {\r\n                body: {\r\n                    controlName: path,\r\n                    url: path\r\n                }\r\n            } ).then( rsp => {\r\n                if ( rsp.success ) {\r\n                    const content = rsp.obj;\r\n                    return content.html;\r\n                }\r\n            } );\r\n        }\r\n\r\n        static fadePageIn_() {\r\n            return new Promise( ( resolve, reject ) => {\r\n                const onTransitionEnd = () => {\r\n                    this.mainContainer.removeEventListener( 'transitionend', onTransitionEnd );\r\n                    resolve();\r\n                };\r\n\r\n                window.scrollTo( 0, 0 );\r\n                this.mainContainer.addEventListener( 'transitionend', onTransitionEnd );\r\n                doc.body.classList.remove( 'page-out' );\r\n            } );\r\n        }\r\n\r\n        static updateState_() {\r\n            history.pushState( { path: this.path }, null, this.path );\r\n\r\n            if ( typeof window.ga === 'function' ) {\r\n                window.ga( 'send', 'pageview' );\r\n            }\r\n        }\r\n\r\n        static popstateHandler_() {\r\n            if ( history.state && history.state.path ) {\r\n\t\t\t\tthis.go_( history.state.path );\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    app.Router = Router;\r\n\r\n}( document ) );\r\n///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tconst cssClasses = {\r\n\t\tANIMATABLE: 'animatable',\r\n\t\tNAV_IN: 'side-nav-in'\r\n\t};\r\n\r\n\tclass SideNav {\r\n\t\tconstructor() {\r\n\t\t\tthis.btnShow = app.$( '.hdr-nav-trigger' );\r\n\t\t\tthis.sideNav = app.$( '.side-nav' );\r\n\t\t\tthis.sideNavContainer = app.$( '.side-nav-container' );\r\n\t\t\tthis.sideNavClose = app.$( '.side-nav-close' );\r\n\r\n\t\t\tthis.showSideNav = this.showSideNav.bind( this );\r\n\t\t\tthis.hideSideNav = this.hideSideNav.bind( this );\r\n\t\t\tthis.onTouchStart = this.onTouchStart.bind( this );\r\n\t\t\tthis.onTouchMove = this.onTouchMove.bind( this );\r\n\t\t\tthis.onTouchEnd = this.onTouchEnd.bind( this );\r\n\t\t\tthis.onTransitionEnd = this.onTransitionEnd.bind( this );\r\n\t\t\tthis.update = this.update.bind( this );\r\n\r\n\t\t\tthis.startX = 0;\r\n\t\t\tthis.currentX = 0;\r\n\t\t\tthis.touchingSideNav = false;\r\n\r\n\t\t\tthis.addEventListeners();\r\n\t\t}\r\n\r\n\t\taddEventListeners() {\r\n\t\t\tthis.btnShow.addEventListener( 'click', this.showSideNav );\r\n\t\t\tthis.sideNav.addEventListener( 'click', this.hideSideNav );\r\n\t\t\tthis.sideNavContainer.addEventListener( 'click', this.blockClicks );\r\n\t\t\tthis.sideNavClose.addEventListener( 'click', this.hideSideNav );\r\n\t\t\tthis.sideNav.addEventListener( 'touchstart', this.onTouchStart );\r\n\r\n\t\t\tthis.sideNav.addEventListener( 'touchmove', this.onTouchMove );\r\n\t\t\tthis.sideNav.addEventListener( 'touchend', this.onTouchEnd );\r\n\t\t}\r\n\r\n\t\tshowSideNav( e ) {\r\n\t\t\tthis.sideNav.classList.add( cssClasses.ANIMATABLE );\r\n\t\t\tdoc.body.classList.add( cssClasses.NAV_IN );\r\n\t\t\tthis.sideNav.addEventListener( 'transitionend', this.onTransitionEnd );\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\thideSideNav( e ) {\r\n\t\t\tthis.sideNav.classList.add( 'animatable' );\r\n\t\t\tdoc.body.classList.remove( cssClasses.NAV_IN );\r\n\t\t\tthis.sideNav.addEventListener( 'transitionend', this.onTransitionEnd );\r\n\r\n\t\t\tif ( e ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tblockClicks( e ) {\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\r\n\t\tonTouchStart( e ) {\r\n\t\t\tif ( !doc.body.classList.contains( cssClasses.NAV_IN ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.startX = e.touches[0].pageX;\r\n\t\t\tthis.currentX = this.startX;\r\n\r\n\t\t\tthis.touchingSideNav = true;\r\n\t\t\trequestAnimationFrame( this.update );\r\n\t\t}\r\n\r\n\t\tonTouchMove( e ) {\r\n\t\t\tif ( !this.touchingSideNav ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.currentX = e.touches[0].pageX;\r\n\t\t\tconst translateX = Math.min( 0, this.currentX - this.startX );\r\n\r\n\t\t\tif ( translateX < 0 ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tonTouchEnd( e ) {\r\n\t\t\tif ( !this.touchingSideNav ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.touchingSideNav = false;\r\n\r\n\t\t\tconst translateX = Math.min( 0, this.currentX - this.startX );\r\n\t\t\tthis.sideNavContainer.style.transform = '';\r\n\r\n\t\t\tif ( translateX < 0 ) {\r\n\t\t\t\tthis.hideSideNav();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdate() {\r\n\t\t\tif ( !this.touchingSideNav ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\trequestAnimationFrame( this.update );\r\n\r\n\t\t\tconst translateX = Math.min( 0, this.currentX - this.startX );\r\n\t\t\tthis.sideNavContainer.style.transform = 'translateX(' + translateX + 'px)';\r\n\t\t}\r\n\r\n\t\tonTransitionEnd( e ) {\r\n\t\t\tthis.sideNav.classList.remove( cssClasses.ANIMATABLE );\r\n\t\t\tthis.sideNav.removeEventListener( 'transitionend', this.onTransitionEnd );\r\n\t\t}\r\n\t}\r\n\r\n\tif ( app.$( '.side-nav' ) ) {\r\n\t\tnew SideNav();\r\n\t}\r\n\r\n}( document ) );\r\n///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n * @version: 1.0.0\r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tlet activeToast = null;\r\n\r\n\tconst cssClasses = {\r\n\t\tACTIVE: 'active',\r\n\t\tTOAST: 'toast'\r\n\t};\r\n\r\n\tclass Toast {\r\n\t\tconstructor() {\r\n\t\t\tif ( activeToast ) {\r\n\t\t\t\tconsole.log( 'A toast already exists.' );\r\n\t\t\t\treturn activeToast;\r\n\t\t\t}\r\n\r\n\t\t\tthis.container = this.createToastElement();\r\n\t\t\tthis.duration = -1;\r\n\t\t\tthis.defaultDuration = 3000;\r\n\t\t\tthis.hideTimeout = null;\r\n\r\n\t\t\tthis.show = this.show.bind( this );\r\n\t\t\tthis.hide = this.hide.bind( this );\r\n\r\n\t\t\tactiveToast = this;\r\n\t\t}\r\n\r\n\t\tcreateToastElement() {\r\n\t\t\tlet el = doc.createElement( 'div' );\r\n\t\t\tel.classList.add( cssClasses.TOAST );\r\n\t\t\tdoc.body.appendChild( el );\r\n\t\t\treturn el;\r\n\t\t}\r\n\r\n\t\tshow( msg, duration ) {\r\n\t\t\tlet me = this;\r\n\r\n\t\t\tif ( this.hideTimeout ) {\r\n\t\t\t\tclearTimeout( this.hideTimeout );\r\n\t\t\t\tthis.hideTimeout = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.container.innerHTML = msg;\r\n\r\n\t\t\tsetTimeout( function() {\r\n\t\t\t\tme.container.classList.add( cssClasses.ACTIVE );\r\n\t\t\t}, 1 );\r\n\r\n\t\t\tthis.duration = duration;\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\r\n\t\thide( now ) {\r\n\t\t\tlet me = this,\r\n        \t\tduration = this.defaultDuration;\r\n\r\n\t\t\tif ( now ) {\r\n\t\t\t\tthis.container.classList.remove( cssClasses.ACTIVE );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.duration === -1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.duration && this.duration !== -1 ) {\r\n\t\t\t\tduration = this.duration;\r\n\t\t\t}\r\n\r\n\t\t\tthis.hideTimeout = setTimeout( function() {\r\n\t\t\t\tme.container.classList.remove( cssClasses.ACTIVE );\r\n\t\t\t}, duration );\r\n\t\t}\r\n\t}\r\n\r\n\tapp.Toast = Toast;\r\n}( document ) );\r\nwindow.requestAnimationFrame = (function() {\r\n    return  window.requestAnimationFrame       ||\r\n            window.webkitRequestAnimationFrame ||\r\n            window.mozRequestAnimationFrame    ||\r\n            function( callback ){\r\n                window.setTimeout(callback, 1000 / 60);\r\n            };\r\n}());\r\n///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2015 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com)\r\n * @version: 1.0.0 \r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tvar MaterialButton = function MaterialButton( element ) {\r\n\t\tthis.element_ = element;\r\n\t\tthis.init();\r\n\t};\r\n\r\n\twindow.MaterialButton = MaterialButton;\r\n\r\n\t// Definte css classes\r\n\tMaterialButton.prototype.cssClasses_ = {\r\n\t\tRIPPLE_BUTTON: 'btn-ripple',\r\n\t\tRIPPLE_CONTAINER: 'btn-ripple-container',\r\n\t\tRIPPLE: 'btn-ripple-element',\r\n\t\tRIPPLE_CENTER: 'btn-ripple-center',\r\n\t\tRIPPLE_IS_ANIMATING: 'is-animating',\r\n\t\tRIPPLE_IS_VISIBLE: 'is-visible'\r\n\t};\r\n\r\n\tMaterialButton.prototype.RippleConstant = {\r\n\t\tINITIAL_SCALE: 'scale(0.0001, 0.0001)',\r\n\t\tINITIAL_SIZE: '1px',\r\n\t\tINITIAL_OPACITY: '0.4',\r\n\t\tFINAL_OPACITY: '0',\r\n\t\tFINAL_SCALE: ''\r\n\t};\r\n\r\n\t// initialize the element\r\n\tMaterialButton.prototype.init = function() {\r\n\t\tif ( this.element_ ) {\r\n\t\t\t\r\n\t\t\t// if this button needs the ripple effect\r\n\t\t\t//   add the necessary ripple elements and events\r\n\t\t\tif ( this.element_.classList.contains( this.cssClasses_.RIPPLE_BUTTON ) ) {\r\n\t\t\t\tthis.initRipple();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tMaterialButton.prototype.initRipple = function() {\r\n\t\tvar recentering;\r\n\r\n\t\t// first add the elements\r\n\t\tthis.addRippleElements();\r\n\r\n\t\t// set defaults and add event handlers\r\n\t\trecentering = this.element_.classList.contains( this.cssClasses_.RIPPLE_CENTER );\r\n\t\tthis.frameCount_ = 0;\r\n\t\tthis.rippleSize_ = 0;\r\n\t\tthis.x_ = 0;\r\n\t\tthis.y_ = 0;\r\n\r\n\t\t// Touch start produces a compat mouse down event, which would cause a\r\n\t\t// second ripple. To avoid that, we use this property to ignore the first\r\n\t\t// mouse down after a touch start.\r\n\t\tthis.ignoringMouseDown_ = false;\r\n\r\n\t\tthis.boundDownHandler = this.downHandler_.bind( this );\r\n\t\tthis.element_.addEventListener( 'mousedown', this.boundDownHandler, false );\r\n\t\tthis.element_.addEventListener( 'touchstart', this.boundDownHandler, false );\r\n\r\n\t\tthis.boundUpHandler = this.upHandler_.bind( this );\r\n\t\tthis.element_.addEventListener( 'mouseup', this.boundUpHandler, false );\r\n\t\tthis.element_.addEventListener( 'mouseleave', this.boundUpHandler, false );\r\n\t\tthis.element_.addEventListener( 'touchend', this.boundUpHandler, false );\r\n\t\tthis.element_.addEventListener( 'blur', this.boundUpHandler, false );\r\n\r\n\t\t// helpers\r\n\t\tthis.getFrameCount = function() {\r\n\t\t\treturn this.frameCount_;\r\n\t\t};\r\n\r\n\t\tthis.setFrameCount = function( fC ) {\r\n\t\t\tthis.frameCount_ = fC;\r\n\t\t};\r\n\r\n\t\tthis.getRippleElement = function() {\r\n\t\t\treturn this.rippleElement_;\r\n\t\t};\r\n\r\n\t\tthis.setRippleXY = function( newX, newY ) {\r\n\t\t\tthis.x_ = newX;\r\n\t\t\tthis.y_ = newY;\r\n\t\t};\r\n\r\n\t\t// styles\r\n\t\tthis.setRippleStyles = function( start ) {\r\n\t\t\tif ( this.rippleElement_ !== null ) {\r\n\t\t\t\tvar transformString, scale, size,\r\n\t\t\t\t\toffset = 'translate(' + this.x_ + 'px, ' + this.y_ + 'px)';\r\n\r\n\t\t\t\tif ( start ) {\r\n\t\t\t\t\tscale = this.RippleConstant.INITIAL_SCALE;\r\n\t\t\t\t\tsize = this.RippleConstant.INITIAL_SIZE;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tscale = this.RippleConstant.FINAL_SCALE;\r\n\t\t\t\t\tsize = this.rippleSize_ + 'px';\r\n\r\n\t\t\t\t\tif ( recentering ) {\r\n\t\t\t\t\t\toffset = 'translate(' + this.boundWidth / 2 + 'px, ' + this.boundHeight / 2 + 'px)';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttransformString = 'translate(-50%, -50%) ' + offset + scale;\r\n\r\n\t\t\t\tthis.rippleElement_.style.webkitTransform = transformString;\r\n\t\t\t\tthis.rippleElement_.style.msTransform = transformString;\r\n\t\t\t\tthis.rippleElement_.style.transform = transformString;\r\n\r\n\t\t\t\tif ( start ) {\r\n\t\t\t\t\tthis.rippleElement_.classList.remove( this.cssClasses_.RIPPLE_IS_ANIMATING );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.rippleElement_.classList.add( this.cssClasses_.RIPPLE_IS_ANIMATING );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// RAF\r\n\t\tthis.animFrameHandler = function() {\r\n\t\t\tif ( this.frameCount_-- > 0 ) {\r\n\t\t\t\trequestAnimationFrame( this.animFrameHandler.bind( this ) );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.setRippleStyles( false );\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tMaterialButton.prototype.addRippleElements = function() {\r\n\t\tvar container = doc.createElement( 'span' );\r\n\t\tcontainer.classList.add( this.cssClasses_.RIPPLE_CONTAINER );\r\n\r\n\t\tthis.rippleElement_ = doc.createElement( 'span' );\r\n\t\tthis.rippleElement_.classList.add( this.cssClasses_.RIPPLE );\r\n\r\n\t\tcontainer.appendChild( this.rippleElement_ );\r\n\r\n\t\tthis.boundRippleBlurHandler = this.blurHandler_.bind( this );\r\n\t\tthis.rippleElement_.addEventListener( 'mouseup', this.boundRippleBlurHandler );\r\n\t\tthis.element_.appendChild( container );\r\n\t};\r\n\r\n\t// blur event handler\r\n\tMaterialButton.prototype.blurHandler_ = function( e ) {\r\n\t\tif ( e ) {\r\n\t\t\tthis.element_.blur();\r\n\t\t}\r\n\t};\r\n\r\n\t// disable the button\r\n\tMaterialButton.prototype.disable = function() {\r\n\t\tthis.element_.disabled = true;\r\n\t};\r\n\r\n\t// button downHandler\r\n\tMaterialButton.prototype.downHandler_ = function( e ) {\r\n\t\tvar bound, x, y, clientX, clientY;\r\n\r\n\t\tif ( !this.rippleElement_.style.width && !this.rippleElement_.style.height ) {\r\n\t\t\tvar rect = this.element_.getBoundingClientRect();\r\n\t\t\tthis.boundHeight = rect.height;\r\n\t\t\tthis.boundWidth = rect.width;\r\n\t\t\tthis.rippleSize_ = Math.sqrt( rect.width * rect.width + rect.height * rect.height ) * 2 + 2;\r\n\t\t\tthis.rippleElement_.style.width = this.rippleSize_ + 'px';\r\n\t\t\tthis.rippleElement_.style.height = this.rippleSize_ + 'px';\r\n\t\t}\r\n\r\n\t\tthis.rippleElement_.classList.add( this.cssClasses_.RIPPLE_IS_VISIBLE );\r\n\r\n\t\tif ( e.type === 'mousedown' && this.ignoringMouseDown_ ) {\r\n\t\t\tthis.ignoringMouseDown_ = false;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif ( e.type === 'touchstart' ) {\r\n\t\t\t\tthis.ignoringMouseDown_ = true;\r\n\t\t\t}\r\n\r\n\t\t\tvar frameCount = this.getFrameCount();\r\n\t\t\tif ( frameCount > 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setFrameCount( 1 );\r\n\r\n\t\t\tbound = e.currentTarget.getBoundingClientRect();\r\n\r\n\t\t\t// Check if we are handling a keyboard click.\r\n\t\t\tif ( e.clientX === 0 && e.clientY === 0 ) {\r\n\t\t\t\tx = Math.round( bound.width / 2 );\r\n\t\t\t\ty = Math.round( bound.height / 2 );\r\n\t\t\t} else {\r\n\t\t\t\tclientX = e.clientX ? e.clientX : e.touches[0].clientX;\r\n\t\t\t\tclientY = e.clientY ? e.clientY : e.touches[0].clientY;\r\n\t\t\t\tx = Math.round( clientX - bound.left );\r\n\t\t\t\ty = Math.round( clientY - bound.top );\r\n\t\t\t}\r\n\r\n\t\t\tthis.setRippleXY( x, y );\r\n\t\t\tthis.setRippleStyles( true );\r\n\r\n\t\t\twindow.requestAnimationFrame( this.animFrameHandler.bind( this ) );\r\n\t\t}\r\n\t};\r\n\r\n\t// button upHandler\r\n\tMaterialButton.prototype.upHandler_ = function( e ) {\r\n\t\t// Don't fire for the artificial \"mouseup\" generated by a double-click.\r\n\t\tif ( e && e.detail !== 2 ) {\r\n\t\t\tthis.rippleElement_.classList.remove( this.cssClasses_.RIPPLE_IS_VISIBLE );\r\n\t\t}\r\n\r\n\t\t// Allow a repaint to occur before removing this class, so the animation\r\n\t\t// shows for tap events, which seem to trigger a mouseup too soon after mousedown.\r\n\t\twindow.setTimeout( function() {\r\n\t\t\tthis.rippleElement_.classList.remove( this.cssClasses_.RIPPLE_IS_VISIBLE );\r\n\t\t}.bind( this ), 0 );\r\n\t};\r\n\r\n\t// enable the button\r\n\tMaterialButton.prototype.enable = function() {\r\n\t\tthis.element_.disabled = false;\r\n\t};\r\n\r\n\tapp.$.forEach( '.btn-ripple', function( btn ) {\r\n\t\tbtn.MaterialButton = new MaterialButton( btn );\r\n\t} );\r\n}( document ) );\r\n///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n * @version: 1.0.0\r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tconst ckEditorSettings = {\r\n\t\tallowedContent: true,\r\n\t\theight: 350,\r\n\t\ttoolbar: 'Simple'\r\n\t};\r\n\r\n\tconst formCssClasses = {\r\n\t\tchosenSelect: 'chosen-select',\r\n\t\tckeditor: 'use-ckeditor',\r\n\t\terrorLabel: 'error-label',\r\n\t\thidden: 'hidden',\r\n\t\tinputField: 'input-field',\r\n\t\tinvalid: 'invalid',\r\n\t\tmediumEditor: 'use-medium-editor',\r\n\t\trequired: 'req'\r\n\t};\r\n\r\n\tclass Form {\r\n\t\t// When creating a new Form, we can pass in a selected element (i.e. doc.querySelect( '#form' ))\r\n\t\t// or we can pass in a selector (i.e. '#form' )\r\n\t\tconstructor( el ) {\r\n\t\t\tif ( typeof el === 'string' ) {\r\n\t\t\t\tel = app.$( el );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.container = el;\r\n\t\t\tthis.fields = el.querySelectorAll( 'input:not([type=\"file\"]),textarea,.text-editor,select' );\r\n\t\t\tthis.reqFields = el.querySelectorAll( '.' + formCssClasses.required );\r\n\t\t\tthis.inputFields = el.querySelectorAll( '.' + formCssClasses.inputField );\r\n\r\n\t\t\tthis.initFormElements = this.initFormElements.bind( this );\r\n\t\t\tthis.initEditors = this.initEditors.bind( this );\r\n\t\t\tthis.checkActiveInputs = this.checkActiveInputs.bind( this );\r\n\t\t\tthis.validateFields = this.validateFields.bind( this );\r\n\t\t\tthis.collectData = this.collectData.bind( this );\r\n\t\t\tthis.setFieldValues = this.setFieldValues.bind( this );\r\n\t\t\tthis.clearForm = this.clearForm.bind( this );\r\n\r\n\t\t\tthis.initFormElements();\r\n\t\t\tthis.initEditors();\r\n\t\t}\r\n\r\n\t\t// This function will loop through all input field elements to check for\r\n\t\t// inputs and select elements to create our custom TextBox or Select objects\r\n\t\tinitFormElements() {\r\n\t\t\tapp.$.forEach( this.inputFields, container => {\r\n\t\t\t\tlet select = container.querySelector( 'select' );\r\n\t\t\t\tlet input = container.querySelector( 'input' );\r\n\t\t\t\t\r\n\t\t\t\tif ( select && !select.Select ) {\r\n\t\t\t\t\tselect.Select = new app.Select( select );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !input ) {\r\n\t\t\t\t\tinput = container.querySelector( 'textarea' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !input ) {\r\n\t\t\t\t\tinput = container.querySelector( '.' + formCssClasses.mediumEditor );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( input ) {\r\n\t\t\t\t\tlet tag = input.tagName.toLowerCase();\r\n\t\t\t\t\tlet type = input.type.toLowerCase();\r\n\r\n\t\t\t\t\tif ( !input.TextBox && type !== 'checkbox' && type !== 'radio' ) {\r\n\t\t\t\t\t\tinput.TextBox = new app.TextBox( input );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// Helper functions to initialize textareas with MediumEditor or CKEDITOR\r\n\t\t// depending on specified class\r\n\t\tinitEditors() {\r\n\t\t\tapp.$.forEach( this.fields, field => {\r\n\t\t\t\tif ( field.classList.contains( formCssClasses.mediumEditor ) ) {\r\n\t\t\t\t\tif ( !window.MediumEditor ) {\r\n\t\t\t\t\t\tconsole.warn( 'MediumEditor source not found. Unable to use MediumEditor.' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tnew MediumEditor( field, {\r\n\t\t\t\t\t\t\tplaceholder: {\r\n\t\t\t\t\t\t\t\ttext: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if ( field.classList.contains( formCssClasses.ckeditor ) ) {\r\n\t\t\t\t\tif ( !window.CKEDITOR ) {\r\n\t\t\t\t\t\tconsole.warn( 'CKEDITOR source not found. Unable to use CKEDITOR' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tCKEDITOR.replace( field.id, ckEditorSettings );\r\n\r\n\t\t\t\t\t\tif ( field.classList.contains( 'ckfinder' ) ) {\r\n\t\t\t\t\t\t\tCKFinder.setupCKEditor( CKEDITOR.instances[field.id], '/ckfinder/' );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// Check if inputs/selects have values to set or remove active class\r\n\t\t// on the sibling label\r\n\t\tcheckActiveInputs() {\r\n\t\t\tapp.$.forEach( this.inputFields, container => {\r\n\t\t\t\tlet lbl = container.querySelector( 'label' );\r\n\t\t\t\tlet select = container.querySelector( 'select' );\r\n\t\t\t\tlet input = container.querySelector( 'input' );\r\n\r\n\t\t\t\tif ( lbl ) {\r\n\t\t\t\t\tlbl.classList.remove( 'active' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( select && select.Select ) {\r\n\t\t\t\t\tselect.Select.checkForValue();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !input ) {\r\n\t\t\t\t\tinput = container.querySelector( 'textarea' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !input ) {\r\n\t\t\t\t\tinput = container.querySelector( '.' + formCssClasses.mediumEditor );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( input && input.TextBox ) {\r\n\t\t\t\t\tinput.TextBox.checkForValue();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// Helper function to check if required fields have valid data\r\n\t\tvalidateFields() {\r\n\t\t\tlet isValid = true;\r\n\r\n\t\t\tapp.$.forEach( this.reqFields, field => {\r\n\t\t\t\tlet val = '';\r\n\t\t\t\tlet tag = field.tagName.toLowerCase();\r\n\r\n\t\t\t\tif ( field.classList.contains( formCssClasses.mediumEditor ) ) {\r\n\t\t\t\t\tval = field.innerHTML;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( field.classList.contains( formCssClasses.ckeditor ) ) {\r\n\t\t\t\t\tval = CKEDITOR.instances[field.id].getData().trim();\r\n\t\t\t\t}\r\n\t\t\t\telse if ( tag === 'select' ) {\r\n\t\t\t\t\tif ( field.Select ) {\r\n\t\t\t\t\t\tval = field.Select.getValue();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( !field.classList.contains( formCssClasses.chosenSelect ) ) {\r\n\t\t\t\t\t\tval = field.options[field.selectedIndex].value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tval = field.value.trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( val === '' || val === '-1' || val === -1 ) {\r\n\t\t\t\t\tfield.classList.add( formCssClasses.invalid );\r\n\t\t\t\t\tisValid = false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfield.value = val;\r\n\t\t\t\t\tfield.classList.remove( formCssClasses.invalid );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\treturn isValid;\r\n\t\t}\r\n\r\n\t\t// Helper function to collect data from form fields and return as\r\n\t\t// JSON key/value pair object. Uses the element's name attribute as the key.\r\n\t\tcollectData() {\r\n\t\t\tlet params = {};\r\n\r\n\t\t\tapp.$.forEach( this.fields, field => {\r\n\t\t\t\tlet key = field.getAttribute( 'name' );\r\n\t\t\t\tlet val = '';\r\n\t\t\t\tlet tag = field.tagName.toLowerCase();\r\n\t\t\t\tlet type = field.type ? field.type.toLowerCase() : '';\r\n\r\n\t\t\t\tif ( type === 'checkbox' ) {\r\n\t\t\t\t\tval = field.checked;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( field.classList.contains( formCssClasses.mediumEditor ) ) {\r\n\t\t\t\t\tval = field.innerHTML;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( field.classList.contains( formCssClasses.ckeditor ) ) {\r\n\t\t\t\t\tval = CKEDITOR.instances[field.id].getData().trim();\r\n\t\t\t\t}\r\n\t\t\t\telse if ( tag === 'select' ) {\r\n\t\t\t\t\tif ( field.Select ) {\r\n\t\t\t\t\t\tval = field.Select.getValue();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( !field.classList.contains( formCssClasses.chosenSelect ) ) {\r\n\t\t\t\t\t\tval = field.options[field.selectedIndex].value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tval = field.value.trim();\r\n\r\n\t\t\t\t\tif ( field.classList.contains( 'integer' ) ) {\r\n\t\t\t\t\t\tval = parseInt( val, 10 );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( field.classList.contains( 'decimal' ) ) {\r\n\t\t\t\t\t\tval = parseFloat( val );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tparams[key] = val;\r\n\t\t\t} );\r\n\r\n\t\t\treturn params;\r\n\t\t}\r\n\r\n\t\t// Helper function to set the values of form fields. Will use the \r\n\t\t// name attribute of each field element to select the respective value\r\n\t\t// from the obj parameter.\r\n\t\tsetFieldValues( obj ) {\r\n\t\t\tapp.$.forEach( this.fields, field => {\r\n\t\t\t\tlet val = obj[field.getAttribute( 'name' )];\r\n\t\t\t\tlet type = field.type ? field.type.toLowerCase() : '';\r\n\t\t\t\tlet tag = field.tagName.toLowerCase();\r\n\r\n\t\t\t\tif ( !obj ) {\r\n\t\t\t\t\tconsole.warn( 'Property does not exist for key ' + field.getAttribute( 'name' ) );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif ( type === 'checkbox' ) {\r\n\t\t\t\t\t\tfield.checked = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( field.classList.contains( formCssClasses.mediumEditor ) ) {\r\n\t\t\t\t\t\tfield.innerHTML = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( field.classList.contains( formCssClasses.ckeditor ) ) {\r\n\t\t\t\t\t\tval = CKEDITOR.instances[field.id].setData( val );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( tag === 'select' && field.Select ) {\r\n\t\t\t\t\t\tfield.Select.setValue( val );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif ( field.classList.contains( 'input-date' ) ) {\r\n\t\t\t\t\t\t\tif ( obj[field.getAttribute( 'name' ) + 'Str'] ) {\r\n\t\t\t\t\t\t\t\tval = obj[field.getAttribute( 'name' ) + 'Str'];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tval = moment( val ).format( 'MM/DD/YYYY' );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfield.value = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tthis.checkActiveInputs();\r\n\t\t}\r\n\r\n\t\t// Helper function to clear out the values of a form. Will additionally\r\n\t\t// remove all HTML from containers with class .row-preview and hide\r\n\t\t// all elements with class .btn-item-upload-delete. It will then\r\n\t\t// run checkActiveInputs to reset the labels.\r\n\t\tclearForm() {\r\n\t\t\tapp.$.forEach( this.fields, field => {\r\n\t\t\t\tlet lbl = field.querySelector( '.' + formCssClasses.errorLabel );\r\n\t\t\t\tlet type = field.type ? field.type.toLowerCase() : '';\r\n\t\t\t\tlet tag = field.tagName.toLowerCase();\r\n\r\n\t\t\t\tif ( type === 'checkbox' ) {\r\n\t\t\t\t\tfield.checked = false;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( field.classList.contains( formCssClasses.mediumEditor ) ) {\r\n\t\t\t\t\tfield.innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t\telse if ( tag === 'textarea' ) {\r\n\t\t\t\t\tCKEDITOR.instances[field.id].setData( '' );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( tag === 'select' ) {\r\n\t\t\t\t\tif ( field.Select ) {\r\n\t\t\t\t\t\tfield.Select.setValue( '-1' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( field.multiple && field.classList.contains( formCssClasses.chosenSelect ) ) {\r\n\t\t\t\t\t\tapp.$.forEach( field.querySelectorAll( 'option' ), function( opt ) {\r\n\t\t\t\t\t\t\topt.selected = false;\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\tjQuery( field ).trigger( 'chosen:updated' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfield.value = '-1';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfield.value = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfield.classList.remove( formCssClasses.invalid );\r\n\r\n\t\t\t\tif ( lbl ) {\r\n\t\t\t\t\tfield.parentNode.removeChild( lbl );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tapp.$.forEach( '.row-preview', row => {\r\n\t\t\t\trow.innerHTML = '';\r\n\t\t\t}, this.container );\r\n\r\n\t\t\tapp.$.forEach( '.btn-item-upload-delete', btn => {\r\n\t\t\t\tbtn.classList.add( 'hidden' );\r\n\t\t\t}, this.container );\r\n\r\n\t\t\tthis.checkActiveInputs();\r\n\t\t}\r\n\r\n\t\thide() {\r\n\t\t\tthis.container.classList.add( formCssClasses.hidden );\r\n\t\t}\r\n\r\n\t\tshow() {\r\n\t\t\tthis.checkActiveInputs();\r\n\t\t\tthis.container.classList.remove( formCssClasses.hidden );\r\n\t\t}\r\n\t}\r\n\r\n\t// Expose the Form object to the rest of the project\r\n\tapp.Form = Form;\r\n}( document ) );\r\n///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n * @version: 1.0.0\r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tconst cssClasses = {\r\n\t\tERROR_LABEL: 'error-label',\r\n\t\tINVALID_REQ_FIELD: 'invalid',\r\n\t\tMD_MENU: 'md-select',\r\n\t\tMENU: 'md-select-menu',\r\n\t\tMENU_OPEN: 'active',\r\n\t\tLIST_ITEM: 'md-select-menu-item',\r\n\t\tLIST_ITEM_HOVER: 'keyover',\r\n\t\tREQUIRED_FIELD: 'req'\r\n\t};\r\n\r\n\tclass Select {\r\n\t\tconstructor( select ) {\r\n\t\t\t// if on a touch device, default to native select\r\n\t\t\tif ( 'ontouchstart' in doc.documentElement && app.$.mq( '(max-width:1024px)' ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// elements\r\n\t\t\tthis.select = select;\r\n\t\t\tthis.select.classList.add( cssClasses.MD_MENU );\r\n\t\t\tthis.container = this.select.parentNode;\r\n\t\t\tthis.label = this.container.querySelector( 'label' );\r\n\t\t\tthis.menu = null;\r\n\r\n\t\t\t// if this is a multiple select\r\n\t\t\tthis.multiple = this.select.multiple;\r\n\r\n\t\t\tthis.open = false;\r\n\t\t\tthis.currentIndex = 0;\r\n\r\n\t\t\tthis.listItems = [];\r\n\r\n\t\t\t//this.onChange = function() { };\r\n\r\n\t\t\tthis.createMenu = this.createMenu.bind( this );\r\n\t\t\tthis.setMenuPosition = this.setMenuPosition.bind( this );\r\n\t\t\tthis.showMenu = this.showMenu.bind( this );\r\n\t\t\tthis.hideMenu = this.hideMenu.bind( this );\r\n\t\t\tthis.changeHandler = this.changeHandler.bind( this );\r\n\t\t\tthis.focusHanlder = this.focusHanlder.bind( this );\r\n\t\t\tthis.blurHandler = this.blurHandler.bind( this );\r\n\t\t\tthis.keyDownHandler = this.keyDownHandler.bind( this );\r\n\t\t\tthis.bodyClickHandler = this.bodyClickHandler.bind( this );\r\n\t\t\tthis.checkIfRequired = this.checkIfRequired.bind( this );\r\n\r\n\t\t\tthis.createMenu();\r\n\t\t\tthis.addEventListeners();\r\n\t\t}\r\n\r\n\t\taddEventListeners() {\r\n\t\t\tthis.select.addEventListener( 'focus', this.focusHanlder, false );\r\n\t\t\tthis.select.addEventListener( 'blur', this.blurHandler, false );\r\n\t\t}\r\n\r\n\t\t// add change event\r\n\t\tsetChangeEvent( fn ) {\r\n\t\t\tthis.onChange = fn;\r\n\t\t}\r\n\r\n\t\t// create the drop down\r\n\t\tcreateMenu() {\r\n\t\t\tlet opts = this.select.children;\r\n\t\t\tlet len = opts.length;\r\n\t\t\tlet i;\r\n\t\t\tlet opt;\r\n\t\t\tlet listItem;\r\n\t\t\tlet li;\r\n\r\n\t\t\tthis.menu = doc.createElement( 'ul' );\r\n\t\t\tthis.menu.classList.add( cssClasses.MENU );\r\n\r\n\t\t\t// loop through all of the options and create the ListItems\r\n\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\topt = opts[i];\r\n\r\n\t\t\t\tlistItem = new ListItem( opt, i, this );\r\n\t\t\t\tthis.listItems.push( listItem );\r\n\t\t\t\tthis.menu.appendChild( listItem.listItem );\r\n\t\t\t}\r\n\r\n\t\t\tdoc.body.appendChild( this.menu );\r\n\r\n\t\t\tthis.setMenuPosition();\r\n\t\t}\r\n\r\n\t\t// reset the menu\r\n\t\treloadMenu() {\r\n\t\t\tlet container;\r\n\r\n\t\t\tif ( this.menu ) {\r\n\t\t\t\tcontainer = this.menu.parentNode;\r\n\t\t\t\tcontainer.removeChild( this.menu );\r\n\t\t\t\tthis.listItems = [];\r\n\t\t\t\tthis.createMenu();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// set the menu position on the page\r\n\t\tsetMenuPosition() {\r\n\t\t\tconst rect = this.select.getBoundingClientRect();\r\n\t\t\tthis.menu.style.top = rect.bottom + app.util.getWindowScrollPosition() + 'px';\r\n\t\t\tthis.menu.style.left = rect.left + 'px';\r\n\t\t\tthis.menu.style.width = this.select.offsetWidth + 'px';\r\n\t\t}\r\n\r\n\t\t// show the menu\r\n\t\tshowMenu() {\r\n\t\t\tlet me = this;\r\n\r\n\t\t\t// always start at the top of the list\r\n\t\t\tthis.menu.scrollTop = 0;\r\n\r\n\t\t\tthis.currentIndex = -1;\r\n\t\t\tthis.menu.classList.add( cssClasses.MENU_OPEN );\r\n\t\t\tthis.open = true;\r\n\r\n\t\t\tsetTimeout( function() {\r\n\t\t\t\tdoc.body.addEventListener( 'keydown', me.keyDownHandler, false );\r\n\t\t\t\tdoc.body.addEventListener( 'click', me.bodyClickHandler, false );\r\n\r\n\t\t\t\tme.select.blur();\r\n\t\t\t}, 100 );\r\n\t\t\t\t\t\t\r\n\t\t\t// disable window from scrolling\r\n\t\t\tapp.util.disableWindowScroll();\r\n\t\t}\r\n\r\n\t\t// hide the menu\r\n\t\thideMenu() {\r\n\t\t\tlet item;\r\n\r\n\t\t\tthis.menu.classList.remove( cssClasses.MENU_OPEN );\r\n\t\t\tthis.open = false;\r\n\r\n\t\t\t// make sure no listItems ahve the keyover class\r\n\t\t\titem = this.menu.querySelector( '.' + cssClasses.LIST_ITEM_HOVER );\r\n\r\n\t\t\tif ( item ) {\r\n\t\t\t\titem.classList.remove( cssClasses.LIST_ITEM_HOVER );\r\n\t\t\t}\r\n\r\n\t\t\t// remove event listeners\r\n\t\t\tdoc.body.removeEventListener( 'keydown', this.keyDownHandler, false );\r\n\t\t\tdoc.body.removeEventListener( 'click', this.bodyClickHandler, false );\r\n\r\n\t\t\t// re-enable window scrolling\r\n\t\t\tapp.util.enableWindowScroll();\r\n\t\t}\r\n\r\n\t\tfocusHanlder( e ) {\r\n\t\t\tthis.setMenuPosition();\r\n\t\t\tthis.showMenu();\r\n\t\t}\r\n\r\n\t\tblurHandler( e ) {\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tkeyDownHandler( e ) {\r\n\t\t\tlet index = this.currentIndex;\r\n\t\t\tlet keyCode = -1;\r\n\t\t\tlet menuScrollTop = this.menu.scrollTop;\r\n\t\t\tlet menuHeight = this.menu.offsetHeight;\r\n\t\t\tlet li;\r\n\r\n\t\t\tif ( e && e.keyCode ) {\r\n\t\t\t\tkeyCode = e.keyCode;\r\n\t\t\t\t\r\n\t\t\t\tif ( keyCode === 9 ) {\r\n\t\t\t\t\tthis.hideMenu();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// move down the list\r\n\t\t\t\telse if ( keyCode === 40 ) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.currentIndex++;\r\n\r\n\t\t\t\t\tif ( this.currentIndex === this.listItems.length ) {\r\n\t\t\t\t\t\tthis.currentIndex--;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( index >= 0 ) {\r\n\t\t\t\t\t\tthis.listItems[index].listItem.classList.remove( cssClasses.LIST_ITEM_HOVER );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tli = this.listItems[this.currentIndex].listItem;\r\n\t\t\t\t\tli.classList.add( cssClasses.LIST_ITEM_HOVER );\r\n\r\n\t\t\t\t\t// check scroll top\r\n\t\t\t\t\tif ( li.offsetTop + li.offsetHeight > menuScrollTop + menuHeight ) {\r\n\t\t\t\t\t\tthis.menu.scrollTop = menuScrollTop + li.offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// move up the list\r\n\t\t\t\telse if ( keyCode === 38 ) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.currentIndex--;\r\n\r\n\t\t\t\t\tif ( this.currentIndex < 0 ) {\r\n\t\t\t\t\t\tthis.currentIndex = -1;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( index >= 0 ) {\r\n\t\t\t\t\t\tthis.listItems[index].listItem.classList.remove( cssClasses.LIST_ITEM_HOVER );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.currentIndex >= 0 ) {\r\n\t\t\t\t\t\tli = this.listItems[this.currentIndex].listItem;\r\n\t\t\t\t\t\tli.classList.add( cssClasses.LIST_ITEM_HOVER );\r\n\r\n\t\t\t\t\t\t// check scroll top\r\n\t\t\t\t\t\tif ( li.offsetTop < menuScrollTop ) {\r\n\t\t\t\t\t\t\tthis.menu.scrollTop = menuScrollTop - li.offsetHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// enter key is clicked\r\n\t\t\t\telse if ( keyCode === 13 ) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tif ( this.currentIndex === -1 ) {\r\n\t\t\t\t\t\tthis.currentIndex = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// trigger list item click\r\n\t\t\t\t\tthis.listItems[this.currentIndex].selectItem();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if escape key is clicked\r\n\t\t\t\telse if ( keyCode === 27 ) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.hideMenu();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tchangeHandler( e ) {\r\n\t\t\tif ( this.onChange && typeof this.onChange === 'function' ) {\r\n\t\t\t\tthis.onChange();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbodyClickHandler( e ) {\r\n\t\t\tif ( e && e.target && ( e.target === this.select || e.target.classList.contains( cssClasses.LIST_ITEM ) || e.target.classList.contains( 'btn-ripple-container' ) || e.target.classList.contains( 'btn-ripple-element' ) ) ) {\r\n\t\t\t\t// let the list item click event handle this\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// clicked outside of the menu, hide the menu\r\n\t\t\t\tthis.hideMenu();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcheckForValue() {\r\n\r\n\t\t}\r\n\r\n\t\tcheckIfRequired() {\r\n\t\t\tlet selected = this.menu.querySelector( '[selected=\"true\"]' );\r\n\t\t\tlet errorLbl = this.container.querySelector( '.' + cssClasses.ERROR_LABEL );\r\n\t\t\tlet lbl;\r\n\r\n\t\t\t// remove any previous error messages\r\n\t\t\tif ( errorLbl ) {\r\n\t\t\t\tthis.container.removeChild( errorLbl );\r\n\t\t\t}\r\n\r\n\t\t\t// if we don't have a selected option and this is a required field\r\n\t\t\tif ( !selected && this.select.classList.contains( cssClasses.REQUIRED_FIELD ) ) {\r\n\t\t\t\tlbl = doc.createElement( 'span ' );\r\n\t\t\t\tlbl.classList.add( cssClasses.ERROR_LABEL );\r\n\t\t\t\tlbl.textContent = 'Required field.';\r\n\t\t\t\tthis.container.appendChild( lbl );\r\n\t\t\t\tthis.select.classList.add( cssClasses.INVALID_REQ_FIELD );\r\n\t\t\t}\r\n\r\n\t\t\t// if we're all good, rmeove the invalid class\r\n\t\t\telse {\r\n\t\t\t\tthis.select.classList.remove( cssClasses.INVALID_REQ_FIELD );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetValue( value ) {\r\n\t\t\tlet li = this.menu.querySelector( '[data-val=\"' + value + '\"]' );\r\n\t\t\tlet i = 0;\r\n\t\t\tlet len = this.listItems.length;\r\n\t\t\tlet listItem = null;\r\n\r\n\t\t\tif ( li ) {\r\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\t\tlistItem = this.listItems[i];\r\n\r\n\t\t\t\t\tif ( listItem.listItem === li ) {\r\n\t\t\t\t\t\tif ( !listItem.listItem.getAttribute( 'selected' ) ) {\r\n\t\t\t\t\t\t\tlistItem.selectItem();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetValue() {\r\n\t\t\tif ( !this.multiple ) {\r\n\t\t\t\treturn this.select.options[this.select.selectedIndex].value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetTextValue() {\r\n\t\t\tif ( !this.multiple ) {\r\n\t\t\t\treturn this.select.options[this.selectedIndex].text;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tclass ListItem {\r\n\t\tconstructor( opt, index, select ) {\r\n\t\t\tthis.listItem = doc.createElement( 'li' );\r\n\t\t\tthis.select = select;\r\n\t\t\tthis.index = index;\r\n\r\n\t\t\tthis.listItem.classList.add( cssClasses.LIST_ITEM );\r\n\t\t\tthis.listItem.classList.add( 'btn-ripple' );\r\n\t\t\tthis.listItem.textContent = opt.textContent;\r\n\t\t\tthis.listItem.setAttribute( 'data-val', opt.value );\r\n\r\n\t\t\tif ( opt.selected ) {\r\n\t\t\t\tthis.listItem.setAttribute( 'selected', 'true' );\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectItem = this.selectItem.bind( this );\r\n\r\n\t\t\tthis.addEventListeners();\r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\taddEventListeners() {\r\n\t\t\tthis.listItem.addEventListener( 'click', this.selectItem, false );\r\n\t\t}\r\n\r\n\t\tselectItem( e ) {\r\n\t\t\tlet selected;\r\n\t\t\t\r\n\t\t\t// if clicking the currently selected item\r\n\t\t\tif ( this.listItem.getAttribute( 'selected' ) === 'true' ) {\r\n\t\t\t\tthis.listItem.removeAttribute( 'selected' );\r\n\r\n\t\t\t\tif ( !this.select.multiple ) {\r\n\t\t\t\t\tthis.select.select.value = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.select.checkIfRequired();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// check if an item is already selected\r\n\t\t\t\tselected = this.select.menu.querySelector( '[selected=\"true\"]' );\r\n\r\n\t\t\t\t// unselect a previously selected item if this is not a multiple select\r\n\t\t\t\tif ( selected && !this.select.multiple ) {\r\n\t\t\t\t\tselected.removeAttribute( 'selected' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// select the selected item\r\n\t\t\t\tthis.listItem.setAttribute( 'selected', 'true' );\r\n\r\n\t\t\t\t// update the selected element\r\n\t\t\t\tif ( !this.select.multiple ) {\r\n\t\t\t\t\tthis.select.select.value = this.listItem.getAttribute( 'data-val' );\r\n\t\t\t\t\tthis.select.checkIfRequired();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.select.select.classList.remove( cssClasses.INVALID_REQ_FIELD );\r\n\r\n\t\t\t\t// hide the menu if this ins not a multiple select\r\n\t\t\t\tif ( !this.select.multiple ) {\r\n\t\t\t\t\tthis.select.hideMenu();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.select.changeHandler();\r\n\r\n\t\t\tif ( e ) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tapp.Select = Select;\r\n\r\n}( document ) );\r\n///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n * @version: 1.0.0\r\n * \r\n * Corresponding HTML should follow:\r\n * \r\n * <div class=\"input-field\">\r\n *   <input type=\"text\" id=\"tb-mytb\" name=\"dbCol\" />\r\n *   <label for=\"tb-mytb\">Label Text</label>\r\n * </div>\r\n * \r\n * To make a field required, add class=\"req\"\r\n * To make a field use a datepicker, add class=\"input-date\"\r\n * \r\n * To autovalidate email, set type=\"email\"\r\n * To auotvalidate phone numbers, set type=\"tel\" \r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tconst cssClasses = {\r\n\t\tACTIVE_FIELD_CLASS: 'active',\r\n\t\tDATE_SELECTOR: 'input-date',\r\n\t\tERROR_LABEL: 'error-label',\r\n\t\tINVALID_REQ_FIELD: 'invalid',\r\n\t\tREQUIRED_FIELD: 'req'\r\n\t};\r\n\r\n\t// Regex's for validating field data\r\n\tconst regExpressions = {\r\n\t\tEMAIL: /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,\r\n\t\tTEL: /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,\r\n\t\tDATE: /^(0[1-9]|1[0-2])\\/(0[1-9]|1\\d|2\\d|3[01])\\/(19|20)\\d{2}$/\r\n\t};\r\n\r\n\tclass TextBox {\r\n\t\t// Provide the input element for this TextBox\r\n\t\tconstructor( input ) {\r\n\t\t\t// elements\r\n\t\t\tthis.input = input;\r\n\t\t\tthis.container = input.parentNode;\r\n\t\t\tthis.label = this.container.querySelector( 'label' );\r\n\r\n\t\t\t// check for date\r\n\t\t\tif ( this.input.classList.contains( cssClasses.DATE_SELECTOR ) ) {\r\n\t\t\t\tthis.initDatePicker();\r\n\t\t\t}\r\n\r\n\t\t\t// check for initial value\r\n\t\t\tthis.checkForValue();\r\n\r\n\t\t\tthis.initDatePicker = this.initDatePicker.bind( this );\r\n\t\t\tthis.focusHandler = this.focusHandler.bind( this );\r\n\t\t\tthis.blurHandler = this.blurHandler.bind( this );\r\n\t\t\tthis.validateField = this.validateField.bind( this );\r\n\t\t\tthis.checkForValue = this.checkForValue.bind( this );\r\n\t\t\tthis.setValue = this.setValue.bind( this );\r\n\t\t\tthis.getValue = this.getValue.bind( this );\r\n\r\n\t\t\tthis.addEventListeners();\r\n\t\t}\r\n\r\n\t\t// Add the event listeners\r\n\t\taddEventListeners() {\r\n\t\t\tthis.input.addEventListener( 'focus', this.focusHandler, false );\r\n\t\t\tthis.input.addEventListener( 'blur', this.blurHandler, false );\r\n\t\t\tthis.input.addEventListener( 'change', this.checkForValue, false );\r\n\t\t}\r\n\r\n\t\t// Initialize the date picker if the input has class .input-date\r\n\t\tinitDatePicker() {\r\n\t\t\tlet field = this.input;\r\n\t\t\tlet picker;\r\n\r\n\t\t\t// make sure it is a text input\r\n\t\t\tfield.type = 'text';\r\n\r\n\t\t\t// if touch device use default date picker\r\n\t\t\tif ( 'ontouchstart' in doc.documentElement ) {\r\n\t\t\t\tfield.type = 'date';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tpicker = new Pikaday( {\r\n\t\t\t\tfield: field,\r\n\t\t\t\tformat: 'MM/DD/YYYY',\r\n\t\t\t\tonSelect: function() {\r\n\t\t\t\t\tfield.value = this.getMoment().format( 'MM/DD/YYYY' );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// OnFocus event handler\r\n\t\tfocusHandler() {\r\n\t\t\tthis.label.classList.add( cssClasses.ACTIVE_FIELD_CLASS );\r\n\t\t}\r\n\r\n\t\t// OnBlur event handler\r\n\t\tblurHandler() {\r\n\t\t\tthis.checkForValue();\r\n\t\t\tthis.validateField();\r\n\t\t}\r\n\r\n\t\t// Helper function to check for a value and handle the active class of the label\r\n\t\tcheckForValue() {\r\n\t\t\tif ( this.getValue() !== '' ) {\r\n\t\t\t\tthis.label.classList.add( cssClasses.ACTIVE_FIELD_CLASS );\r\n\t\t\t\tthis.validateField();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.label.classList.remove( cssClasses.ACTIVE_FIELD_CLASS );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Helper function to provide validation of field data based on input type and classes\r\n\t\tvalidateField() {\r\n\t\t\tlet field = this.input;\r\n\t\t\tlet type = field.type.toLowerCase();\r\n\t\t\tlet valid = true;\r\n\t\t\tlet val = this.getValue();\r\n\t\t\tlet minChars = field.getAttribute( 'min-chars' );\r\n\t\t\tlet prevError = this.container.querySelector( '.' + cssClasses.ERROR_LABEL );\r\n\t\t\tlet lbl;\r\n\t\t\tlet msg = '';\r\n\r\n\t\t\t// check for a value in a required field\r\n\t\t\tif ( field.classList.contains( cssClasses.REQUIRED_FIELD ) && val === '' ) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tmsg = 'Required field.';\r\n\t\t\t}\r\n\r\n\t\t\t// check for min characters\r\n\t\t\telse if ( minChars && val.length < parseInt( minChars, 10 ) ) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tmsg = minChars + ' characters required.';\r\n\t\t\t}\r\n\r\n\t\t\t// check for valid email address\r\n\t\t\telse if ( type === 'email' && !regExpressions.EMAIL.test( val ) ) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tmsg = 'Invalid email address.';\r\n\t\t\t}\r\n\r\n\t\t\t// check for valid phone number\r\n\t\t\telse if ( type === 'tel' && !regExpressions.TEL.test( val ) ) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tmsg = 'Inavlid phone number.';\r\n\t\t\t}\r\n\r\n\t\t\t// check for date\r\n\t\t\telse if ( field.classList.contains( cssClasses.DATE_SELECTOR ) && !regExpressions.DATE.test( val ) ) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tmsg = 'Incorrect date format.';\r\n\t\t\t}\r\n\r\n\t\t\t// remove any previous error messages\r\n\t\t\tif ( prevError ) {\r\n\t\t\t\tthis.container.removeChild( prevError );\r\n\t\t\t}\r\n\r\n\t\t\t// if the field is valid\r\n\t\t\tif ( valid ) {\r\n\t\t\t\tfield.classList.remove( cssClasses.INVALID_REQ_FIELD );\r\n\t\t\t}\r\n\r\n\t\t\t// if invalid, make sure it is highlighted\r\n\t\t\telse {\r\n\t\t\t\tfield.classList.add( cssClasses.INVALID_REQ_FIELD );\r\n\r\n\t\t\t\t// if we have a message\r\n\t\t\t\tif ( msg !== '' ) {\r\n\t\t\t\t\tlbl = doc.createElement( 'span' );\r\n\t\t\t\t\tlbl.classList.add( cssClasses.ERROR_LABEL );\r\n\t\t\t\t\tlbl.textContent = msg;\r\n\t\t\t\t\tthis.container.appendChild( lbl );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Helper function to set the value of the input\r\n\t\tsetValue( val ) {\r\n\t\t\tthis.input.value = val;\r\n\t\t\tthis.checkForValue();\r\n\t\t\tthis.validateField();\r\n\t\t}\r\n\r\n\t\t// Helper function get the value of the input\r\n\t\tgetValue() {\r\n\t\t\treturn this.input.value.trim();\r\n\t\t}\r\n\t}\r\n\r\n\t// Expose the TextBox object to the app\r\n\tapp.TextBox = TextBox;\r\n\r\n}( document ) );\r\n/**\r\n* Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n* @author: The Select Interactive dev team (www.select-interactive.com)\r\n*/\r\n(function( doc ) {\r\n    'use strict';\r\n\r\n    // if we're on the front end setup proper handlers\r\n    if ( doc.body.hasAttribute( 'frontend' ) ) {\r\n        app.Router.init();\r\n        app.Nav.init();\r\n        app.LazyContentHandler.load();\r\n        app.LazyImgHandler.loadImages();\r\n    }\r\n\r\n}( document ) );\r\n/**\r\n* Copyright 2016 Select Interactive, LLC. All rights reserved.\r\n* @author: The Select Interactive dev team (www.select-interactive.com)\r\n*/\r\n(function( doc ) {\r\n    'use strict';\r\n\r\n    const hdr = app.$( '#hdr-main' );\r\n\r\n    if ( hdr ) {\r\n        window.addEventListener( 'scroll', e => {\r\n            if ( doc.body.classList.contains( 'home' ) ) {\r\n                let wh = window.innerHeight;\r\n                let y = window.scrollY;\r\n\r\n                if ( y >= wh / 2.5 ) {\r\n                    doc.body.classList.remove( 'home-top' );\r\n                }\r\n                else {\r\n                    doc.body.classList.add( 'home-top' );\r\n                }\r\n            }\r\n        } );\r\n    }\r\n\r\n}( document ) );\r\n///<reference path=\"../main.js\">\r\n/**\r\n * Copyright 2015 Select Interactive, LLC. All rights reserved.\r\n * @author: The Select Interactive dev team (www.select-interactive.com) \r\n */\r\n( function( doc ) {\r\n\t'use strict';\r\n\r\n\tif ( 'serviceWorker' in navigator && doc.URL.indexOf( 'localhost' ) === -1 ) {\r\n\t\tnavigator.serviceWorker.register( '/serviceworker.js' ).then( registration => {\r\n\t\t\tconsole.log( 'serviceworker registration successful with scope: ' + registration.scope );\r\n\t\t} ).catch( err => {\r\n\t\t\tconsole.log( 'serviceworker registration failed: ', err );\r\n\t\t} );\r\n\t}\r\n\r\n}( document ) );"]}