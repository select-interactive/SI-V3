"use strict";!function(a){function b(a){c(f.getAdditionalPropertyData("imgPath"))}function c(a){return""===a?(i.innerHTML="",void j.classList.add("hidden")):(i.innerHTML='<img src="'+a+'" />',void j.classList.remove("hidden"))}function d(){c("")}var e=new app.Alert,f=new app.AdminForm({labelItemText:"Bio",labelItemsText:"Bios",loadItems:{fn:"biosGetJson",params:{bioId:-1},rowTmpl:'<div class="admin-grid-row{{rowClass}}" data-id="{{bioId}}"><div class="admin-grid-col admin-grid-col-primary">{{fname}} {{lname}}</div><div class="admin-grid-col">{{title}}</div><div class="admin-grid-col">{{active}}</div><div class="admin-grid-col"><button class="btn btn-ripple btn-edit">Edit</button><button class="btn btn-ripple btn-delete">Delete</button></div></div>',rowTmplHeaders:["","Name","","Title","Active"],rowTmplProps:["bioId","fname","lname","title","active"]},editItem:{fn:"biosGetJson",params:{},itemId:"bioId",callback:b},saveItem:{fn:"bioSave",itemId:"bioId",sendAsString:!0},deleteItem:{fn:"bioDelete",itemId:"bioId"},back:{fn:d},additionalProperties:{imgPath:"",imgFileName:""}}),g=app.$("#btn-upload-img"),h=app.$("#f-upload-img"),i=app.$("#prev-img"),j=app.$("#btn-img-delete");g.addEventListener("click",function(a){return h.click()}),h.addEventListener("change",function(a){var b=a.dataTransfer?a.dataTransfer.files:a.currentTarget.files,d=b[0];f.uploadHelper(d,!0,"/admin/uploadImg.ashx",{"X-Min-Width":354,"X-Min-Height":278,"X-File-Path":"img/team/"},function(a){a&&(f.setAdditionalPropertyData("imgPath",a.filePath),f.setAdditionalPropertyData("imgFileName",a.fileName),c(a.filePath)),h.value=""})}),j.addEventListener("click",function(a){e.promptAlert("Confirm Delete","<p>Are you sure you want to delete this image?","Delete","Cancel",function(a){f.setAdditionalPropertyData("imgPath",""),f.setAdditionalPropertyData("imgFileName",""),c(""),e.dismissAlert(),a.preventDefault()},function(a){e.dismissAlert(),a.preventDefault()})})}(document);