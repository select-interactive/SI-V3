!function(a){"use strict";function b(){app.forms.checkActive(),j(app.admin.getOtherDataProperty("thumbnail")),k(app.admin.getOtherDataProperty("primaryImg")),v.checked=app.admin.getOtherDataProperty("active")}function c(){p.click()}function d(a){var b=a.dataTransfer?a.dataTransfer.files:a.currentTarget.files,c=b[0];app.admin.uploadFile(c,!0,"/admin/projects/uploadImg.ashx",function(a){a&&setTimeout(function(){app.admin.setOtherDataProperty("thumbnail",a),j(a)},500)})}function e(a){app.admin.setOtherDataProperty("thumbnail",""),j(null)}function f(){s.click()}function g(a){var b=a.dataTransfer?a.dataTransfer.files:a.currentTarget.files,c=b[0];app.admin.uploadFile(c,!0,"/admin/projects/uploadMonitorImg.ashx",function(a){a&&setTimeout(function(){app.admin.setOtherDataProperty("primaryImg",a),k(a)},500)})}function h(a){app.admin.setOtherDataProperty("primaryImg",""),k(null)}function i(){var a=app.admin.collectData(),b=app.admin.validateReqFields();b&&(a.sortOrder=parseInt(a.sortOrder,10),a.active=v.checked,app.admin.saveItem(l.save.fn,a))}function j(a){a&&a.length?(q.innerHTML='<img src="/img/projects/'+a+'" />',r.classList.remove("hidden")):(q.innerHTML="",r.classList.add("hidden"))}function k(a){a&&a.length?(t.innerHTML='<img src="/img/projects/primary/'+a+'" />',u.classList.remove("hidden")):(t.innerHTML="",u.classList.add("hidden"))}var l={itemId:-1,load:{callback:b},save:{fn:"saveItem"},del:!0,item:"Project",setOptionText:function(a){return a.get("name")}},m={object:"Project",querySort:"sortOrder"},n=[{el:a.getElementById("btn-item-save"),evtName:"click",handler:i},{el:a.getElementById("btn-img-trigger"),evtName:"click",handler:c},{el:a.getElementById("f-img"),evtName:"change",handler:d},{el:a.getElementById("btn-img-delete"),evtName:"click",handler:e},{el:a.getElementById("btn-img-monitor-trigger"),evtName:"click",handler:f},{el:a.getElementById("f-img-monitor"),evtName:"change",handler:g},{el:a.getElementById("btn-img-monitor-delete"),evtName:"click",handler:h}],o={active:!1,primaryImg:"",thumbnail:""},p=a.getElementById("f-img"),q=a.getElementById("img-prev"),r=a.getElementById("btn-img-delete"),s=a.getElementById("f-img-monitor"),t=a.getElementById("img-monitor-prev"),u=a.getElementById("btn-img-monitor-delete"),v=a.getElementById("cb-active");app.admin.init(l,m,n,o,i)}(document);